<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The Least Painful Way To Start Coding With ReactJS">
    <meta name="author" content="Oppikone">

    <title>Minimal ReactJS</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div style="display:none" class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="http://www.oppikone.fi">Oppikone</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div  class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul style display="none" class="nav navbar-nav navbar-right">
                    <li>
                        <a href="http://www.oppikone.fi">Oppikone</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header class="intro-header" style="background-image: url('/templates/oppikone/files/nature/chart-footer.jpg')">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="post-heading" style="background-color:rgba(50,50,50,0.3)">
                        <h1 style="color:white">Minimal ReactJS</h1>
                        <h2 style="color:yellow" class="subheading">The Least Painful Way To Start Coding With ReactJS</h2>
                        <span class="meta">Posted by <a href="#">Heikki Kupiainen/Oppikone</a> on 03.07.2017 07:18:26</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Post Content -->
    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          		<p>I wrote earlier a <a href="http://www.oppikone.fi/blog/brief-introduction-to-reactjs">brief introduction to ReactJS</a> explaining in some detail how to install some useful development tools on workstation.
I also demonstrated some code examples about writing ReactJS components with ES6.</p>

<p>I think, however, that it's more useful for many developers to enter ReactJS using a bit different approach. It should be possible for them to get something up and running
with minimal effort. If you can't make it really easy, they'll skip it all together and move on. Luckily, there is still a way to get ReactJS up and running without installing all that shady <b>foreign</b> software they require you to use (joke). For starters,
there is a grave trade-off writing ES6 code - many browsers don't support it yet and many developers aren't yet too comfortable with it.
That means that an ES5 approach is more lightweight for early adopters. Secondly, given that you are already some sort of a web developer, you can actually jump into ReactJS development right away
without installing any additional ReactJS related tools.</p>

<h3>Minimal ReactJS Configuration</h3>

Next, I'll show a minimal ReactJS configuration which is very easy to start with. It will be then quite intuitive to expand that
example and start building some more serious features on top of it.<p/>

Let's write the index html wrapper:<p/>

<textarea style="width:100%;height:300px;font-size:small">
<!DOCTYPE html>
<html>
	<head>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.1/react.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.1/react-dom.js"></script>
	</head>
	<body>
		<div id="root"></div>
		<script src="src/hello-oppikone.js"></script>
	</body>
</html>
</textarea><p/>

The very basic ReactJS libraries needed for development are react.js and react-dom.js that I included in the head section. Then I
include my actual ReactJS app that I have named "hello-oppikone". Note that the include tag for my app is at the very bottom of the page.
It is necessary because my app can't find the root node if it's initialized before the root node is rendered.<p/>

The code for a minimal ReactJS app comes here:<p/>
<textarea style="width:100%;height:250px;font-size:small">
var HelloOppikone = React.createClass({
	render: function() {
		return React.createElement("h1",null,"Hello From Oppikone!");
	}
});
ReactDOM.render( 
	React.createElement(HelloOppikone,null),
	document.getElementById('root')

);
</textarea><p/>

The app defines first a ReactJS class for rendering a header tag with text. Then it instantiates an element for that class and
attaches it to the root node. It's hard to figure out a ReactJS app simpler than that!<p/>

<h3>Adding JSX Support</h3><p/>

Needless to say, generating DOM structure directly from JavaScript code by using React's <b>createElement</b> method is just
too difficult for serious design. Therefore using JSX templates is a must. JSX templates can be embedded directly into JavaScript code. JSX
transformation is done with Babel JavaScript library. Add this tag inside your html page's head section:<p/>

<textarea style="width:100%;height:50px;font-size:small">
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</textarea><p/>

Now you can modify your actual ReactJS application file and simplify its syntax by converting cumbersome createElement-invocations into true
HTML (or at least very similar XML):<p/>

<textarea style="width:100%;height:300px;font-size:small">
var HelloOppikone = React.createClass({
	render: function() {
		return (
			<h1>Hello from Oppikone!</h1>
		)
	}
});

ReactDOM.render(
        <HelloOppikone/>,
        document.getElementById('root')
);
</textarea><p/>

That's it, pretty much! Now you have configured ReactJS in the most straightforward way, without installing anything alien
on your PC! This is a good point to start diving deeper into ReactJS. Now let's take next necessary steps.<p/>

<h3>Migrating To Bootstrap And ES6</h3><p>

Now that we have verified that it is indeed possible to write ReactJS code using standard JavaScript it is time to start using
ES6. ES6 is the recommended programming language for ReactJS. I showed already in my <a href="responsive-ui-with-bootstrap-and-reactjs.html">earlier post</a> that it is quite straightforward 
to apply Bootstrap styles to a ReactJS app. Now the good news is that despite ES6 we can still use ReactJS on a web page
just like any other JavaScript library. It works fine at least for development purpose. It is particularly encouraging if you don't want to install lots of software
on your PC just to add one little JavaScript library to your web page. And one more benefit is that you can use whatever
web server to test your code. Most experienced web developers have already some favorite web server for their local tests and they should have
an option to keep their preferences.<p/>

Here is the code snippet for a Bootstrap-enhanced ES6-based ReactJS code example that I wrote:<p/>
<textarea style="width:100%;height:1950px;font-size:small">

class AppTitle extends React.Component {
    render(){
        return (
            <h3>This is a Bootstrap / ReactJS Demo App </h3>
        );
    }
}


class CarFilterList extends React.Component {
	
	constructor(props) {
		super(props);
		this.handleChange = this.handleChange.bind(this);
		this.state = {items: this.getAllItems(), initialItems: this.getAllItems()};
	}
	getAllItems() {
		return  [
				"Audi",
				"Porsche",
				"Tesla",
				"Bugatti",
				"Ferrari",
				"Lamborghini"
			];
	}

	handleChange(event) {
		var searchPhrase = event.target.value;
		var items = this.state.initialItems;
		var filteredItems = [];
		for (var i = 0; i < items.length; i++) {
			var item = items[i];
			if (item.toLowerCase().indexOf(searchPhrase.toLowerCase()) === -1) {
				continue;
			}
			filteredItems.push(item);
		}
		this.setState({items: filteredItems});
		
	}

	
	render() {
		return (
			<div className="form-group row">
				<p/>
				<div className="container-fluid">
					<input className="form-control" type="text" placeholder="Search" onChange={this.handleChange}/>
				</div>
				<p/>
				<BootstrapList items={this.state.items}/>
			</div>
			
		);
 	 }
}

class BootstrapList extends React.Component {
	render() {
		var itemMap = this.props.items.map((item) =>
			<li className="list-group-item" key={item.toString()}>
			      {item}
			</li>
  		);
		return(
			<div className="container-fluid">
				<ul className="list-group">{itemMap}</ul>
			</div>
		)
	}

}

class App extends React.Component {

	render() {
		return (
			<div className="container-fluid">
				<div className="App">
					<AppTitle name="Cars"/>
					<CarFilterList/>
				</div>
			</div>
		);
  	}
}


ReactDOM.render(
        <App/>,
        document.getElementById('root')
);
</textarea>

<p/>
And let's add Bootstrap styles to the head element:<p/>
<textarea style="width:100%;height:100px;font-size:small">
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" type="text/css"> 
</textarea></p>

The result is going to look like this:<p/>

<iframe src="http://www.oppikone.fi/reactjs-demo/my-car-app-2" style="border-radius:10x;width:100%;height:600px"></iframe><p/>

The example is also available <a href="http://www.oppikone.fi/reactjs-demo/my-car-app-2">here.</a><p/>

<h3>Understanding Events and Views</h3><p/>

Next I am going to explain a simple data flow/component interaction technique for ReactJS. 
Please note that I am not taking the officially recommended Redux/Flux approach yet. 
The official way including dispatchers and stores and containers and actions et cetera may not
be as intuitive to understand and straightforward to implement as the callback-based technique that I will introduce next.
For now, our demo app is yet quite simple and therefore a callback-based data interaction is the fastest 
way to go. Yet when the application grows in complexity its downsides become more evident. 
I will cover this issue later on in detail. But we must implement first the easy way to understand its strengths and caveats!<p/>
 
For starters, let's add more functionality to the app. I'll demonstrate next how to add a Bootstrap-enhanced login view to a React app. Then I'll show how to make components communicate with each other. It is important because we want to enable the login view to inform the main app when the login process was complete so the main app can let the user enter the main application. Let's create first the login view:<p/>

<textarea style="width:100%;height:700px;font-size:small">
class Login extends React.Component {

	constructor(props) {
		super(props);
		this.handleSubmit = this.handleSubmit.bind(this);
	}
	
	handleSubmit(event) {
		this.props.onClick(event);
		event.preventDefault();
		return false;	
	}

	render() {
		return (
			<form>
				  <div className="form-group">
				  	<label htmlFor="email">Email address:</label>
				    	<input type="email" className="form-control" id="email"/>
				  </div>
				  <div className="form-group">
				    	<label htmlFor="pwd">Password:</label>
				    	<input type="password" className="form-control" id="pwd"/>
				  </div>
				  <div className="checkbox">
				    	<label><input type="checkbox"/> Remember me</label>
				  </div>
				  <button type="submit" className="btn btn-default"  onClick={this.handleSubmit} >Submit</button>
			</form>
		);
  	}

}
</textarea><p/>

Login component's <b>render</b> function returns a very classical html login form flavored with Bootstrap styles. However, note that unlike in HTML, input tags must be closed. Additionally, instead of <b>class</b> you must add <b>className</b> attributes and instead of <b>for</b> you must have <b>htmlFor</b>. I have also bound submit button's click event to <b>handleSubmit</b> function that I define in <b>Login</b> class. <b>handleSubmit</b> calls further a callback function <b>onClick</b>. Looking at <b>Login</b> class's code it's not clear where this onClick comes from but I can reveal already at this point that it is the callback function that we are going to implement in the parent class and then inject it into <b>Login</b> class upon instantiation. <b>handleSubmit</b> must prevent the event bubbling naturally through or it will cause unpredictable implications, therefore <b>event.preventDefault()</b> and <b>return false</b> at the end of the function.<p/>

For simplicity, I am cheating a little here: <b>Login</b> class is not validating username and password yet. But most importantly, this demo demonstrates how to switch between views and transport messages through component hierarchy!<p/>

Now, let's modify the main class <b>App</b> a little:<p/>

<textarea style="width:100%;height:700px;font-size:small">
class App extends React.Component {
	
	constructor(props) {
		super(props);		
		this.state = {loggedIn: false};
		this.handleLoginComplete = this.handleLoginComplete.bind(this);	
	}	
	
	handleLoginComplete(event) {
		this.setState({ loggedIn: true });
	}

	render() {	
		if (this.state.loggedIn) {
			var component = React.createElement(CarFilterList, null);
			
		} else {
			var component = React.createElement(Login, { onClick: this.handleLoginComplete });
		}

		return (
			<div className="container-fluid">
				<div className="App">
					<AppTitle name="Cars"/>
					Â { component }
				</div>
			</div>
		);
  	}
}
</textarea><p/>

Inside <b>App</b> class's constructor, I added "loggedIn" state that's initially false - because the user isn't logged in initially. I also bound <b>handleLoginComplete</b> method to this class so the method will have this class as context thus being able to access its properties. The actual implementation of <b>handleLoginComplete</b> is super simple at this time. It changes the "loggedIn" state to true.<p/>
The <b>render</b> method contains a state check. Depending on whether the user is logged in or not, the app is rendered either with <b>CarFilterList</b> or <b>Login</b> view. Note that I instantiate these components
programmatically. I must do so because I don't want to implement two return statements differing from each other only in one component. If the user is logged in then the component is instantiated as a CarFilterList and if not, then we'll implement it as a Login component. I want the Login form to invoke App's <b>handleLoginComplete</b> on submit button click, therefore I pass <b>handleLoginComplete</b> as <b>onClick</b> to Login component.<p/>

The result of this exercise is now online! Please click the submit button on Login form to see that our code also works:<p/> 
 
<iframe src="http://www.oppikone.fi/reactjs-demo/my-car-app-3" style="border-radius:10x;width:100%;height:600px"></iframe><p/>

The example is also available <a href="http://www.oppikone.fi/reactjs-demo/my-car-app-3">here.</a><p/>

<h3>What's Next?</h3>

<p>Next time, I am going to show how to incorporate the all powerful jQuery library with ReactJS to benefit from its superb networking features and DOM manipulation methods that help you embed some awesome reporting and even more in your ReactJS app. Read more <a href="http://www.oppikone.fi/blog/light-speed-development-combining-jquery-with-reactjs">here!</a><p/>
 
                </div>
            </div>
        </div>
    </article>

    <hr>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <ul style="display:none" class="list-inline text-center">
                        <li>
                            <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
		    <p class="copyright text-muted">View this article on <a href="https://github.com/develprr/oppikone-blog/commits/master/minimal-reactjs.html">GitHub!</a></p>
                    <p class="copyright text-muted">Copyright &copy; Oppikone 2017</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/clean-blog.min.js"></script>

</body>

</html>